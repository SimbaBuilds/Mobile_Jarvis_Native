---
description: Read this rule after modifying native code or dependencies  (Java/Kotlin/Swift/Objective-C) or when attempting a native build
globs: 
alwaysApply: false
---
Note: This is a react native app in expo with kotlin and java native plugins 

Connect to physical Android if necessary
1. adb devices | cat
2. adb mdns services | cat
3. adb connect 192.168.1.121:35687 | cat

Solving Port Issues:
lsof -ti:8081 | xargs kill -9
lsof -ti:8082 | xargs kill -9
REACT_NATIVE_PACKAGER_HOSTNAME=127.0.0.1 npx expo start --dev-client --localhost

Native Build (Java/Kotlin/Swift/Objective-C):
1. run cd android && ./gradlew :app:compileDebugKotlin for surface level (dependecy check) debug 
2. run npx expo run:android
2. run npx expo run:android --variant release before release to prod to public or store (not doing this any time soon though)

Always ask before running any of the above commands as full rebuilds are time intensive.

If no native (kotlin/java) changes:
1. run npm start 
- human will scan QR code in Expo Go app (Android)
- TS/JS changes appear immediately eith hot reloading

Example logcat debugging commands:
1. Feature specific example: adb logcat -d | grep -i "picovoice" | tail -20 | cat
2. Clear logcat buffer: adb logcat -c
3. Fetch errors: `adb logcat "*:E" -d | cat`
